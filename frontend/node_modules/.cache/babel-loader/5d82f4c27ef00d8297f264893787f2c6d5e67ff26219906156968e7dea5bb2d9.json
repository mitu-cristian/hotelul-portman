{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"/api/reviews/\";\n\n// Get average rating\nconst avgRating = async () => {\n  const response = await axios.get(API_URL + \"average\");\n  if (response.data.success === true) return response.data.ratingAvg;else return response.data;\n};\n\n// See all reviews\nconst getReviews = async userData => {\n  const {\n    rating,\n    page\n  } = userData;\n  console.log(userData.rating);\n  let response;\n  if (rating === \"all\") response = await axios.get(API_URL + `all?limit=1&page=${page}`);else response = await axios.get(API_URL + `all?limit=1&page=${page}&rating=${rating}`);\n  if (response.data.success === true) return response.data;else return response.data;\n};\n\n// Update the review\nconst updateReview = async userData => {\n  const response = await axios.put(API_URL, userData, {\n    withCredentials: true\n  });\n  if (response.data.success === true) return response.data.data;else return response.data;\n};\nconst reviewService = {\n  avgRating,\n  getReviews,\n  updateReview\n};\nexport default reviewService;","map":{"version":3,"names":["axios","API_URL","avgRating","response","get","data","success","ratingAvg","getReviews","userData","rating","page","console","log","updateReview","put","withCredentials","reviewService"],"sources":["D:/Portman Hotel copy/frontend/src/features/review/reviewService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"/api/reviews/\";\r\n\r\n// Get average rating\r\nconst avgRating = async () => {\r\n    const response = await axios.get(API_URL + \"average\");\r\n    if(response.data.success === true) \r\n        return response.data.ratingAvg;\r\n    else return response.data;\r\n}\r\n\r\n// See all reviews\r\nconst getReviews = async (userData) => {\r\n    const {rating, page} = userData;\r\n    console.log(userData.rating)\r\n    let response;\r\n    if(rating === \"all\")\r\n        response = await axios.get(API_URL + `all?limit=1&page=${page}`)\r\n    else\r\n        response = await axios.get(API_URL + `all?limit=1&page=${page}&rating=${rating}`);\r\n    if(response.data.success === true)\r\n        return response.data;\r\n    else return response.data;\r\n}\r\n\r\n// Update the review\r\nconst updateReview = async (userData) => {\r\n    const response = await axios.put(API_URL, userData, {withCredentials: true});\r\n    if(response.data.success === true)\r\n        return response.data.data;\r\n    else return response.data;\r\n}\r\n\r\nconst reviewService = {\r\n    avgRating, getReviews, updateReview\r\n};\r\n\r\nexport default reviewService;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,eAAe;;AAE/B;AACA,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;EAC1B,MAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAACH,OAAO,GAAG,SAAS,CAAC;EACrD,IAAGE,QAAQ,CAACE,IAAI,CAACC,OAAO,KAAK,IAAI,EAC7B,OAAOH,QAAQ,CAACE,IAAI,CAACE,SAAS,CAAC,KAC9B,OAAOJ,QAAQ,CAACE,IAAI;AAC7B,CAAC;;AAED;AACA,MAAMG,UAAU,GAAG,MAAOC,QAAQ,IAAK;EACnC,MAAM;IAACC,MAAM;IAAEC;EAAI,CAAC,GAAGF,QAAQ;EAC/BG,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACC,MAAM,CAAC;EAC5B,IAAIP,QAAQ;EACZ,IAAGO,MAAM,KAAK,KAAK,EACfP,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAACH,OAAO,GAAI,oBAAmBU,IAAK,EAAC,CAAC,MAEhER,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAACH,OAAO,GAAI,oBAAmBU,IAAK,WAAUD,MAAO,EAAC,CAAC;EACrF,IAAGP,QAAQ,CAACE,IAAI,CAACC,OAAO,KAAK,IAAI,EAC7B,OAAOH,QAAQ,CAACE,IAAI,CAAC,KACpB,OAAOF,QAAQ,CAACE,IAAI;AAC7B,CAAC;;AAED;AACA,MAAMS,YAAY,GAAG,MAAOL,QAAQ,IAAK;EACrC,MAAMN,QAAQ,GAAG,MAAMH,KAAK,CAACe,GAAG,CAACd,OAAO,EAAEQ,QAAQ,EAAE;IAACO,eAAe,EAAE;EAAI,CAAC,CAAC;EAC5E,IAAGb,QAAQ,CAACE,IAAI,CAACC,OAAO,KAAK,IAAI,EAC7B,OAAOH,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC,KACzB,OAAOF,QAAQ,CAACE,IAAI;AAC7B,CAAC;AAED,MAAMY,aAAa,GAAG;EAClBf,SAAS;EAAEM,UAAU;EAAEM;AAC3B,CAAC;AAED,eAAeG,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}