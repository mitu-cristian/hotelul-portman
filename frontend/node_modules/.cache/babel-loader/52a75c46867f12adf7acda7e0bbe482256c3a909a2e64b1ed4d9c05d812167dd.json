{"ast":null,"code":"var _jsxFileName = \"D:\\\\Portman Hotel copy\\\\frontend\\\\src\\\\components\\\\Review.jsx\",\n  _s = $RefreshSig$();\n// import style\nimport \"./review.css\";\n\n// import components\nimport ReviewItem from \"./ReviewItem/ReviewItem\";\nimport { useEffect } from \"react\";\n\n// Redux general\nimport { useSelector, useDispatch } from \"react-redux\";\n\n// Redux for the review store\nimport { avgRating, getReviews, reset } from \"../features/review/reviewSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Review() {\n  _s();\n  const {\n    avg,\n    reviews,\n    isError,\n    isLoading,\n    isSuccess,\n    message\n  } = useSelector(state => state.review);\n  const dispatch = useDispatch();\n  localStorage.setItem(\"rating\", JSON.stringify(\"all\"));\n  useEffect(() => {\n    // dispatch(avgRating());\n    dispatch(getReviews({\n      rating: JSON.parse(localStorage.getItem(\"rating\")),\n      page: 1\n    }));\n  }, []);\n  if (!reviews) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 16\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [reviews.data.map(review => /*#__PURE__*/_jsxDEV(ReviewItem, {\n      review: review,\n      user: false\n    }, review._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 38\n    }, this)), reviews.count === 0 && /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Nu exist\\u0103 nicio recenzie pentru op\\u021Biunea selectat\\u0103.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 31\n    }, this)]\n  }, void 0, true);\n}\n_s(Review, \"PLlPLqhyjRk3oebWOXHTOzroIiA=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = Review;\nexport default Review;\nvar _c;\n$RefreshReg$(_c, \"Review\");","map":{"version":3,"names":["ReviewItem","useEffect","useSelector","useDispatch","avgRating","getReviews","reset","jsxDEV","_jsxDEV","Fragment","_Fragment","Review","_s","avg","reviews","isError","isLoading","isSuccess","message","state","review","dispatch","localStorage","setItem","JSON","stringify","rating","parse","getItem","page","children","fileName","_jsxFileName","lineNumber","columnNumber","data","map","user","_id","count","_c","$RefreshReg$"],"sources":["D:/Portman Hotel copy/frontend/src/components/Review.jsx"],"sourcesContent":["// import style\r\nimport \"./review.css\";\r\n\r\n// import components\r\nimport ReviewItem from \"./ReviewItem/ReviewItem\";\r\n\r\nimport {useEffect} from \"react\";\r\n\r\n// Redux general\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\n\r\n// Redux for the review store\r\nimport {avgRating, getReviews, reset} from \"../features/review/reviewSlice\";\r\n\r\nfunction Review() {\r\n\r\n    const{avg, reviews, isError, isLoading, isSuccess, message} = useSelector((state) => state.review);\r\n    const dispatch = useDispatch();\r\n\r\n    localStorage.setItem(\"rating\", JSON.stringify(\"all\"));\r\n\r\n    useEffect(() => {\r\n        // dispatch(avgRating());\r\n        dispatch(getReviews({\r\n          rating: JSON.parse(localStorage.getItem(\"rating\")),\r\n          page: 1\r\n        }))\r\n    }, [])\r\n\r\n    if(!reviews)\r\n        return <div>Loading...</div>\r\n\r\n  return (\r\n    <>\r\n      {/* <div id=\"note-clientilor\">\r\n        Nota clienților: {avg}/5\r\n      </div> */}\r\n      {reviews.data.map((review) => (<ReviewItem key={review._id} review = {review} user={false}/>))}\r\n      {reviews.count === 0 && <h1>Nu există nicio recenzie pentru opțiunea selectată.</h1>}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Review\r\n"],"mappings":";;AAAA;AACA,OAAO,cAAc;;AAErB;AACA,OAAOA,UAAU,MAAM,yBAAyB;AAEhD,SAAQC,SAAS,QAAO,OAAO;;AAE/B;AACA,SAAQC,WAAW,EAAEC,WAAW,QAAO,aAAa;;AAEpD;AACA,SAAQC,SAAS,EAAEC,UAAU,EAAEC,KAAK,QAAO,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE5E,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAEd,MAAK;IAACC,GAAG;IAAEC,OAAO;IAAEC,OAAO;IAAEC,SAAS;IAAEC,SAAS;IAAEC;EAAO,CAAC,GAAGhB,WAAW,CAAEiB,KAAK,IAAKA,KAAK,CAACC,MAAM,CAAC;EAClG,MAAMC,QAAQ,GAAGlB,WAAW,EAAE;EAE9BmB,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEC,IAAI,CAACC,SAAS,CAAC,KAAK,CAAC,CAAC;EAErDxB,SAAS,CAAC,MAAM;IACZ;IACAoB,QAAQ,CAAChB,UAAU,CAAC;MAClBqB,MAAM,EAAEF,IAAI,CAACG,KAAK,CAACL,YAAY,CAACM,OAAO,CAAC,QAAQ,CAAC,CAAC;MAClDC,IAAI,EAAE;IACR,CAAC,CAAC,CAAC;EACP,CAAC,EAAE,EAAE,CAAC;EAEN,IAAG,CAACf,OAAO,EACP,oBAAON,OAAA;IAAAsB,QAAA,EAAK;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAM;EAElC,oBACE1B,OAAA,CAAAE,SAAA;IAAAoB,QAAA,GAIGhB,OAAO,CAACqB,IAAI,CAACC,GAAG,CAAEhB,MAAM,iBAAMZ,OAAA,CAACR,UAAU;MAAkBoB,MAAM,EAAIA,MAAO;MAACiB,IAAI,EAAE;IAAM,GAA1CjB,MAAM,CAACkB,GAAG;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAmC,CAAC,EAC7FpB,OAAO,CAACyB,KAAK,KAAK,CAAC,iBAAI/B,OAAA;MAAAsB,QAAA,EAAI;IAAmD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK;EAAA,gBACnF;AAEP;AAACtB,EAAA,CA3BQD,MAAM;EAAA,QAEmDT,WAAW,EACxDC,WAAW;AAAA;AAAAqC,EAAA,GAHvB7B,MAAM;AA6Bf,eAAeA,MAAM;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}