{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport bookingService from \"./bookingService\";\nconst adults = JSON.parse(localStorage.getItem(\"adults\"));\nconst children = JSON.parse(localStorage.getItem(\"children\"));\nconst startDate = JSON.parse(localStorage.getItem(\"startDate\"));\nconst endDate = JSON.parse(localStorage.getItem(\"endDate\"));\nconst initialState = {\n  form: adults && children && startDate && endDate ? {\n    \"adults\": adults,\n    \"children\": children,\n    \"start\": startDate,\n    \"end\": endDate\n  } : null,\n  isLoadingFo: false,\n  isSuccessFo: false,\n  result: null\n};\n\n// Check user criteria\nexport const checkUserCriteria = createAsyncThunk(\"booking/checkUserCriteria\", async (userData, thunkAPI) => {\n  try {\n    return await bookingService.checkUserCriteria(userData);\n  } catch (error) {\n    const message = error.response.data.error || error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const bookingSlice = createSlice({\n  name: \"booking\",\n  initialState,\n  reducers: {\n    resetFo: state => {\n      state.isLoadingFo = false;\n      state.isSuccessFo = false;\n    }\n  },\n  extraReducers: builder => {\n    builder\n    // Check user criteria\n    .addCase(checkUserCriteria.pending, state => {\n      state.isLoadingFo = true;\n    }).addCase(checkUserCriteria.fulfilled, (state, action) => {\n      state.isSuccessFo = true;\n      state.isLoadingFo = false;\n      state.result = action.payload;\n    });\n  }\n});\nexport const {\n  resetFo\n} = bookingSlice.actions;\nexport default bookingSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","bookingService","adults","JSON","parse","localStorage","getItem","children","startDate","endDate","initialState","form","isLoadingFo","isSuccessFo","result","checkUserCriteria","userData","thunkAPI","error","message","response","data","toString","rejectWithValue","bookingSlice","name","reducers","resetFo","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","actions","reducer"],"sources":["D:/portman-hotel/frontend/src/features/booking/bookingSlice.js"],"sourcesContent":["import {createSlice, createAsyncThunk} from \"@reduxjs/toolkit\";\r\nimport bookingService from \"./bookingService\";\r\n\r\nconst adults = JSON.parse(localStorage.getItem(\"adults\"));\r\nconst children = JSON.parse(localStorage.getItem(\"children\"));\r\nconst startDate = JSON.parse(localStorage.getItem(\"startDate\"));\r\nconst endDate = JSON.parse(localStorage.getItem(\"endDate\"))\r\n\r\nconst initialState = {\r\n    form: (adults && children && startDate && endDate) ? {\r\n        \"adults\": adults,\r\n        \"children\": children,\r\n        \"start\": startDate,\r\n        \"end\": endDate\r\n    } : null,\r\n    isLoadingFo: false,\r\n    isSuccessFo: false,\r\n    result: null\r\n}\r\n\r\n// Check user criteria\r\nexport const checkUserCriteria = createAsyncThunk(\"booking/checkUserCriteria\", async(userData, thunkAPI) => {\r\n    try {\r\n        return await bookingService.checkUserCriteria(userData);\r\n    }\r\n    catch (error) {\r\n        const message = error.response.data.error || (error.response && error.response.data && error.response.data.message) || error.message || error.toString()\r\n        return thunkAPI.rejectWithValue(message);\r\n    }\r\n})\r\n\r\nexport const bookingSlice = createSlice({\r\n    name: \"booking\",\r\n    initialState, \r\n    reducers: {\r\n        resetFo: (state) => {\r\n            state.isLoadingFo = false;\r\n            state.isSuccessFo = false;\r\n        }\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n// Check user criteria\r\n            .addCase(checkUserCriteria.pending, (state) => {\r\n                state.isLoadingFo = true;\r\n            })\r\n            .addCase(checkUserCriteria.fulfilled, (state, action) => {\r\n                state.isSuccessFo = true;\r\n                state.isLoadingFo = false;\r\n                state.result = action.payload;\r\n            })\r\n    }\r\n})\r\n\r\nexport const {resetFo} = bookingSlice.actions;\r\nexport default bookingSlice.reducer;"],"mappings":"AAAA,SAAQA,WAAW,EAAEC,gBAAgB,QAAO,kBAAkB;AAC9D,OAAOC,cAAc,MAAM,kBAAkB;AAE7C,MAAMC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC;AACzD,MAAMC,QAAQ,GAAGJ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;AAC7D,MAAME,SAAS,GAAGL,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC;AAC/D,MAAMG,OAAO,GAAGN,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC;AAE3D,MAAMI,YAAY,GAAG;EACjBC,IAAI,EAAGT,MAAM,IAAIK,QAAQ,IAAIC,SAAS,IAAIC,OAAO,GAAI;IACjD,QAAQ,EAAEP,MAAM;IAChB,UAAU,EAAEK,QAAQ;IACpB,OAAO,EAAEC,SAAS;IAClB,KAAK,EAAEC;EACX,CAAC,GAAG,IAAI;EACRG,WAAW,EAAE,KAAK;EAClBC,WAAW,EAAE,KAAK;EAClBC,MAAM,EAAE;AACZ,CAAC;;AAED;AACA,OAAO,MAAMC,iBAAiB,GAAGf,gBAAgB,CAAC,2BAA2B,EAAE,OAAMgB,QAAQ,EAAEC,QAAQ,KAAK;EACxG,IAAI;IACA,OAAO,MAAMhB,cAAc,CAACc,iBAAiB,CAACC,QAAQ,CAAC;EAC3D,CAAC,CACD,OAAOE,KAAK,EAAE;IACV,MAAMC,OAAO,GAAGD,KAAK,CAACE,QAAQ,CAACC,IAAI,CAACH,KAAK,IAAKA,KAAK,CAACE,QAAQ,IAAIF,KAAK,CAACE,QAAQ,CAACC,IAAI,IAAIH,KAAK,CAACE,QAAQ,CAACC,IAAI,CAACF,OAAQ,IAAID,KAAK,CAACC,OAAO,IAAID,KAAK,CAACI,QAAQ,EAAE;IACxJ,OAAOL,QAAQ,CAACM,eAAe,CAACJ,OAAO,CAAC;EAC5C;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMK,YAAY,GAAGzB,WAAW,CAAC;EACpC0B,IAAI,EAAE,SAAS;EACff,YAAY;EACZgB,QAAQ,EAAE;IACNC,OAAO,EAAGC,KAAK,IAAK;MAChBA,KAAK,CAAChB,WAAW,GAAG,KAAK;MACzBgB,KAAK,CAACf,WAAW,GAAG,KAAK;IAC7B;EACJ,CAAC;EACDgB,aAAa,EAAGC,OAAO,IAAK;IACxBA;IACR;IAAA,CACaC,OAAO,CAAChB,iBAAiB,CAACiB,OAAO,EAAGJ,KAAK,IAAK;MAC3CA,KAAK,CAAChB,WAAW,GAAG,IAAI;IAC5B,CAAC,CAAC,CACDmB,OAAO,CAAChB,iBAAiB,CAACkB,SAAS,EAAE,CAACL,KAAK,EAAEM,MAAM,KAAK;MACrDN,KAAK,CAACf,WAAW,GAAG,IAAI;MACxBe,KAAK,CAAChB,WAAW,GAAG,KAAK;MACzBgB,KAAK,CAACd,MAAM,GAAGoB,MAAM,CAACC,OAAO;IACjC,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAACR;AAAO,CAAC,GAAGH,YAAY,CAACY,OAAO;AAC7C,eAAeZ,YAAY,CAACa,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}